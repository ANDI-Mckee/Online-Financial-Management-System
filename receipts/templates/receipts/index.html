{% extends 'apps_base.html' %}

{% block title %}Receipts{% endblock %}

{% block apps_base_title %}Receipts{% endblock %}

{% block apps_base_stylesheets %}
    <style>
        .table-title {
            font-size: 1.7em;
            font-family: Dosis, sans-serif;
        }

        .receipt-manage-link {
            font-size: 0.8em;
            font-style: italic;
            white-space: nowrap;
        }
    </style>
{% endblock %}

{% block apps_base_content %}

    <div class="mb-3">
        <header class="table-title d-inline-block">Created Receipts</header>
        <a class="receipt-manage-link" href="{% url 'create_receipt' %}">Create a new Receipts</a>
    </div>
    {% if no_receipt %}
        <div class="alert alert-warning" role="alert">
            <strong>No Receipt!</strong>
            <p>You have no receipts, please create one.</p>
        </div>
    {% else %}
        <table class="table table-striped table-bordered text-center">
            <thead>
            <tr>
                <th class="text-center">ID</th>
                <th class="text-center">Payer</th>
                <th class="text-center">Total Amount</th>
                <th class="text-center">Payee</th>
                <th class="text-center">Date</th>
            </tr>
            </thead>
            <tbody>
            {% for receipt in created_receipts %}
                <tr>
                    <td><a href="{% url 'receipt_details' receipt_id=receipt.id %}">{{ receipt.id }}</a></td>
                    <td>{{ receipt.payer }}</td>
                    <td>{{ receipt.total_amount }}</td>
                    <td>{{ receipt.payee }}</td>
                    <td>{{ receipt.date }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <ul class="pagination justify-content-center" style="margin: 0 auto;">
            {% if page_num == 1 %}
                <li class="page-item disabled"><a class="page-link">Previous</a></li>
            {% else %}
                <li class="page-item">
                    <a class="page-link"
                       href="{% url 'receipts' page_num=page_num|add:'-1' %}">Previous</a>
                </li>
            {% endif %}
            {% for i in page_range %}
                {% if i == page_num %}
                    <li class="page-item active">
                        <a class="page-link"
                           href="{% url 'receipts' page_num=i %}">{{ forloop.counter }}</a>
                    </li>
                {% else %}
                    <li class="page-item">
                        <a class="page-link"
                           href="{% url 'receipts' page_num=i %}">{{ forloop.counter }}</a>
                    </li>
                {% endif %}
            {% endfor %}
            {% if page_num == page_end %}
                <li class="page-item disabled"><a class="page-link">Next</a></li>
            {% else %}
                <li class="page-item">
                    <a class="page-link"
                       href="{% url 'receipts' page_num=page_num|add:'1' %}">Next</a>
                </li>
            {% endif %}
        </ul>
    {% endif %}
{% endblock %}